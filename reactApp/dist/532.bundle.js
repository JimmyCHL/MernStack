"use strict";(self.webpackChunkshop_smart_application=self.webpackChunkshop_smart_application||[]).push([[532,867],{2867:(r,n,t)=>{t.r(n),t.d(n,{Cart:()=>j});var e=t(6540),i=t(1468),l=t(7767),o=t(9161),c=function(r){return r.cartReducer},a=t(9036),s=t(4848);function u(r,n){return function(r){if(Array.isArray(r))return r}(r)||function(r,n){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,i,l,o,c=[],a=!0,s=!1;try{if(l=(t=t.call(r)).next,0===n){if(Object(t)!==t)return;a=!1}else for(;!(a=(e=l.call(t)).done)&&(c.push(e.value),c.length!==n);a=!0);}catch(r){s=!0,i=r}finally{try{if(!a&&null!=t.return&&(o=t.return(),Object(o)!==o))return}finally{if(s)throw i}}return c}}(r,n)||function(r,n){if(r){if("string"==typeof r)return d(r,n);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?d(r,n):void 0}}(r,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(r,n){(null==n||n>r.length)&&(n=r.length);for(var t=0,e=Array(n);t<n;t++)e[t]=r[t];return e}var h=function(r){var n=r.item,t=r.readOnly,l=u((0,e.useState)(n.qty),2),c=l[0],a=l[1],d=(0,i.wA)();return(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:n.name}),(0,s.jsx)("td",{children:n.price}),(0,s.jsx)("td",{children:n.desc}),(0,s.jsx)("td",{children:n.rate}),(0,s.jsx)("td",{children:t?c:(0,s.jsx)("input",{type:"text",value:c,onChange:function(r){a(r.target.value)}})}),(0,s.jsx)("td",{children:n.qty*n.price}),t?"":(0,s.jsxs)(e.Fragment,{children:[(0,s.jsxs)("td",{children:[(0,s.jsx)("button",{onClick:function(){return d((0,o.TD)(n._id))},children:"Remove"})," "]}),(0,s.jsx)("td",{children:(0,s.jsx)("button",{onClick:function(){return d((0,o.f2)(n._id,c))},children:"Edit"})})]})]})},f=function(r){var n=r.data,t=n.count,e=n.amount,i=r.readOnly,l=r.coupon;return(0,s.jsxs)("div",{children:[i?(0,s.jsx)("h5",{children:" Purchase Summary "}):(0,s.jsx)("h2",{children:" Cart Summary "}),(0,s.jsxs)("p",{children:[" Subtotal: $",e," "]}),l&&(0,s.jsxs)("p",{children:[" Discount: 10% , Code: ",l]}),(0,s.jsxs)("p",{children:[" Total: $",l?.9*e:e," "]}),(0,s.jsxs)("p",{children:[" Products Count: ",t," "]})]})},j=function(r){var n=r.readOnly,t=void 0!==n&&n,u=r.processCallback,d=r.coupon,j=void 0===d?"":d,m=(0,i.d4)(a.d),x=(0,i.d4)(c),p=(0,i.wA)(),y=(0,l.Zp)();console.log(t),console.log("user",m._id),console.log("cartList",x);var v=(0,e.useMemo)((function(){var r=0,n=0;return x.forEach((function(t){n+=parseInt(String(t.qty))*parseInt(String(t.price)),r+=parseInt(String(t.qty))})),{count:r,amount:n}}),[x]);return(0,s.jsxs)("div",{style:{margin:"20px"},children:[!t&&(0,s.jsx)("h2",{children:"Cart Component"}),x&&x.length>0?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("table",{className:"col-sm-12 col-md-12",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Name"}),(0,s.jsx)("th",{children:"Price"}),(0,s.jsx)("th",{children:"Description"}),(0,s.jsx)("th",{children:"Rating"}),(0,s.jsx)("th",{children:"Quantity"}),(0,s.jsx)("th",{children:"Total"}),!t&&(0,s.jsxs)(e.Fragment,{children:[(0,s.jsx)("th",{children:"Remove"}),(0,s.jsx)("th",{children:"Edit"})]})]})}),(0,s.jsx)("tbody",{children:x.map((function(r){return(0,s.jsx)(h,{item:r,readOnly:t},r._id)}))})]}),(0,s.jsx)(f,{data:v,readOnly:t,coupon:j}),t?(0,s.jsx)("button",{onClick:u,children:"Confirm Payment and Place Order"}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{onClick:function(){return r=x,void((n=m._id)?(alert("cart will be saved"),p((0,o.t)({cart:r,userId:n}))):alert("You're not logged-in!! Please login to help you in furture with your selected products!!"));var r,n},children:"Save Cart"}),(0,s.jsx)("button",{onClick:function(){return y("/checkout")},children:"Go To Checkout"})]})]}):(0,s.jsx)("h4",{children:"Please go to product and add item to cart!!!"})]})}},532:(r,n,t)=>{t.r(n),t.d(n,{Checkout:()=>w});var e=t(6540),i=t(1468),l=t(4258),o=t(6627),c=t(9036),a=t(2867),s=t(5072),u=t.n(s),d=t(7825),h=t.n(d),f=t(7659),j=t.n(f),m=t(5056),x=t.n(m),p=t(540),y=t.n(p),v=t(1113),g=t.n(v),b=t(4600),C={};C.styleTagTransform=g(),C.setAttributes=x(),C.insert=j().bind(null,"head"),C.domAPI=h(),C.insertStyleElement=y();u()(b.A,C);b.A&&b.A.locals&&b.A.locals;var A=t(4848);function S(r,n){return function(r){if(Array.isArray(r))return r}(r)||function(r,n){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,i,l,o,c=[],a=!0,s=!1;try{if(l=(t=t.call(r)).next,0===n){if(Object(t)!==t)return;a=!1}else for(;!(a=(e=l.call(t)).done)&&(c.push(e.value),c.length!==n);a=!0);}catch(r){s=!0,i=r}finally{try{if(!a&&null!=t.return&&(o=t.return(),Object(o)!==o))return}finally{if(s)throw i}}return c}}(r,n)||function(r,n){if(r){if("string"==typeof r)return k(r,n);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?k(r,n):void 0}}(r,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(r,n){(null==n||n>r.length)&&(n=r.length);for(var t=0,e=Array(n);t<n;t++)e[t]=r[t];return e}var w=function(){var r=(0,i.d4)(c.d),n=(0,i.d4)(l.C),t=(0,i.wA)(),s=S((0,e.useState)(!1),2),u=s[0],d=s[1];return(0,A.jsx)("div",{className:"col-md-12",children:(0,A.jsx)("div",{id:"checkoutContainer",children:u?(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("h2",{children:"~ Congratulation, High Five ~"}),(0,A.jsx)("h3",{children:"Thank you for the payment, We are preparing your order!"})]}):(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("h2",{children:"~ Checkout Component ~"}),(0,A.jsx)("h3",{children:"User Details"}),(0,A.jsxs)("p",{children:["Name: ",r.userName]}),(0,A.jsxs)("p",{children:["Mobile: ",r.mobile]}),(0,A.jsxs)("p",{children:["We will delivery all products to this address: ",r.street]}),(0,A.jsx)(a.Cart,{readOnly:!0,processCallback:function(){t((0,o.Oc)(r._id,n,(function(){return d(!0)})))},coupon:n})]})})})}},4258:(r,n,t)=>{t.d(n,{C:()=>e});var e=function(r){return r.couponReducer}},9036:(r,n,t)=>{t.d(n,{d:()=>e});var e=function(r){return r.userReducer.user}},4600:(r,n,t)=>{t.d(n,{A:()=>c});var e=t(1601),i=t.n(e),l=t(6314),o=t.n(l)()(i());o.push([r.id,"#checkoutContainer {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  margin: 10px;\n}\n",""]);const c=o}}]);