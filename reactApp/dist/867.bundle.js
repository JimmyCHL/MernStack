"use strict";(self.webpackChunkshop_smart_application=self.webpackChunkshop_smart_application||[]).push([[867],{2867:(r,t,n)=>{n.r(t),n.d(t,{Cart:()=>x});var e=n(6540),i=n(1468),c=n(7767),o=n(9161),l=function(r){return r.cartReducer},a=n(9036),s=n(4848);function d(r,t){return function(r){if(Array.isArray(r))return r}(r)||function(r,t){var n=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=n){var e,i,c,o,l=[],a=!0,s=!1;try{if(c=(n=n.call(r)).next,0===t){if(Object(n)!==n)return;a=!1}else for(;!(a=(e=c.call(n)).done)&&(l.push(e.value),l.length!==t);a=!0);}catch(r){s=!0,i=r}finally{try{if(!a&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw i}}return l}}(r,t)||function(r,t){if(r){if("string"==typeof r)return u(r,t);var n={}.toString.call(r).slice(8,-1);return"Object"===n&&r.constructor&&(n=r.constructor.name),"Map"===n||"Set"===n?Array.from(r):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(r,t):void 0}}(r,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(r,t){(null==t||t>r.length)&&(t=r.length);for(var n=0,e=Array(t);n<t;n++)e[n]=r[n];return e}var h=function(r){var t=r.item,n=r.readOnly,c=d((0,e.useState)(t.qty),2),l=c[0],a=c[1],u=(0,i.wA)();return(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:t.name}),(0,s.jsx)("td",{children:t.price}),(0,s.jsx)("td",{children:t.desc}),(0,s.jsx)("td",{children:t.rate}),(0,s.jsx)("td",{children:n?l:(0,s.jsx)("input",{type:"text",value:l,onChange:function(r){a(r.target.value)}})}),(0,s.jsx)("td",{children:t.qty*t.price}),n?"":(0,s.jsxs)(e.Fragment,{children:[(0,s.jsxs)("td",{children:[(0,s.jsx)("button",{onClick:function(){return u((0,o.TD)(t._id))},children:"Remove"})," "]}),(0,s.jsx)("td",{children:(0,s.jsx)("button",{onClick:function(){return u((0,o.f2)(t._id,l))},children:"Edit"})})]})]})},j=function(r){var t=r.data,n=t.count,e=t.amount,i=r.readOnly,c=r.coupon;return(0,s.jsxs)("div",{children:[i?(0,s.jsx)("h5",{children:" Purchase Summary "}):(0,s.jsx)("h2",{children:" Cart Summary "}),(0,s.jsxs)("p",{children:[" Subtotal: $",e," "]}),c&&(0,s.jsxs)("p",{children:[" Discount: 10% , Code: ",c]}),(0,s.jsxs)("p",{children:[" Total: $",c?.9*e:e," "]}),(0,s.jsxs)("p",{children:[" Products Count: ",n," "]})]})},x=function(r){var t=r.readOnly,n=void 0!==t&&t,d=r.processCallback,u=r.coupon,x=void 0===u?"":u,f=(0,i.d4)(a.d),p=(0,i.d4)(l),m=(0,i.wA)(),y=(0,c.Zp)();console.log(n),console.log("user",f._id),console.log("cartList",p);var v=(0,e.useMemo)((function(){var r=0,t=0;return p.forEach((function(n){t+=parseInt(String(n.qty))*parseInt(String(n.price)),r+=parseInt(String(n.qty))})),{count:r,amount:t}}),[p]);return(0,s.jsxs)("div",{style:{margin:"20px"},children:[!n&&(0,s.jsx)("h2",{children:"Cart Component"}),p&&p.length>0?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("table",{className:"col-sm-12 col-md-12",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Name"}),(0,s.jsx)("th",{children:"Price"}),(0,s.jsx)("th",{children:"Description"}),(0,s.jsx)("th",{children:"Rating"}),(0,s.jsx)("th",{children:"Quantity"}),(0,s.jsx)("th",{children:"Total"}),!n&&(0,s.jsxs)(e.Fragment,{children:[(0,s.jsx)("th",{children:"Remove"}),(0,s.jsx)("th",{children:"Edit"})]})]})}),(0,s.jsx)("tbody",{children:p.map((function(r){return(0,s.jsx)(h,{item:r,readOnly:n},r._id)}))})]}),(0,s.jsx)(j,{data:v,readOnly:n,coupon:x}),n?(0,s.jsx)("button",{onClick:d,children:"Confirm Payment and Place Order"}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{onClick:function(){return r=p,void((t=f._id)?(alert("cart will be saved"),m((0,o.t)({cart:r,userId:t}))):alert("You're not logged-in!! Please login to help you in furture with your selected products!!"));var r,t},children:"Save Cart"}),(0,s.jsx)("button",{onClick:function(){return y("/checkout")},children:"Go To Checkout"})]})]}):(0,s.jsx)("h4",{children:"Please go to product and add item to cart!!!"})]})}},9036:(r,t,n)=>{n.d(t,{d:()=>e});var e=function(r){return r.userReducer.user}}}]);